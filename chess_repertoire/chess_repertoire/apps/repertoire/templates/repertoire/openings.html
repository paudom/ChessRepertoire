{% extends 'layouts/base.html' %}

{% block title %}Openings{% endblock %}

{% block content %}

<div class="container mt-5 mx-auto" style="max-width: 850px;">
	{% for opening in openings %}
		<div class="card mt-3 mb-3" style="background-color: #DDB892;">
			<div class="row">
				<!-- Imatge File -->
				<div class="col-4">
					<div class="container-fluid px-0 py-0 my-2 mx-2">
						<img src="{{ opening.image.url }}" class="img-fluid rounded" style="width: 100%; height: 200px; object-fit: cover;" alt="Opening">
					</div>
				</div>
				<!-- Card Content -->
				<div class="col-8">
					<div class="card-body">
						<h4 class="card-title"><a href="{% url 'repertoire:opening_detail' opening.name %}">{{ opening.name }}</a></h4>
						<div class="overflow-auto">
							<p class="fw-light fst-italic" style="max-height: 100px; text-align: justify;"><small>{{ opening.description }}</small></p>
						</div>
						<div class="container mx-0 px-0">
							<div class="row">
								<div class="col-10 px-0">
									<p class="text-center" style="justify-content: center">
										{% if opening.difficulty == 'B' %}
											Difficulty: <span class="badge" style="background-color: #90BE6D;">{{ opening.get_difficulty_display }}</span>
										{% elif opening.difficulty == 'I' %}
											Difficulty: <span class="badge" style="background-color: #577590;">{{ opening.get_difficulty_display }}</span>
										{% elif opening.difficulty == 'A' %}
											Difficulty: <span class="badge" style="background-color: #F8961E;">{{ opening.get_difficulty_display }}</span>
										{% elif opening.difficulty == 'E' %}
											Difficulty: <span class="badge" style="background-color: #892B64;">{{ opening.get_difficulty_display }}</span>
										{% endif %}
										{% if opening.category == 'CL' %}
											Type: <span class="badge text-light" style="background-color: #7F5539;">{{ opening.get_category_display }}</span>
										{% elif opening.category == 'SY' %}
											Type: <span class="badge text-light" style="background-color: #8D99AE;">{{ opening.get_category_display }}</span>
										{% elif opening.category == 'GB' %}
											Type: <span class="badge text-light" style="background-color: #EF233C;">{{ opening.get_category_display }}</span>
										{% endif %}
										{% if not opening.color %}
											Color: <span class="badge text-dark" style="background-color: #F5F3F4;">{{ opening.get_color_display }}</span>
										{% else %}
											Color: <span class="badge text-light" style="background-color: #161A1D;">{{ opening.get_color_display }}</span>
										{% endif %}
									</p>
								</div>
								<div class="col-2">
									<a href="#" class="btn btn-sm text-light" style="background-color: #9C6644;" role="button">Edit</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	{% endfor %}
</div>

{% endblock %}